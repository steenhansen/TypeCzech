<meta charset="utf-8" />
<title>03-Turn-Off-Library-Not-Loaded</title>

<link rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Inconsolata">


<div id='js-div' style="width:50%">
  <div id='js-code'>the javascript</div>
</div>


<div id="the-explanation" style="width:50%">
  <div class='an-explantion'>03 - Turn Off Type-Czech by Not Loading Library</div>
  <div id='explanation-text'>
    <br>
  This page <b>does not include the TypeCzech library</b>, thus all the code with /**/ is basically ignored.
  The Console Output shows that the Person() output has not changed, save the missing error messages that 
  were generated by Type-Czech.
   <br>
   <br>

   To enable easy turning on &amp;off of Type-Czech the below construct is used.
<pre>
if (typeof TypeCzech === 'function')
  type_czech = TypeCzech('LOG-ERRORS')
else
  type_czech = { check: (nop) => nop, stats: (nop) => nop, is_active: false }
</pre>

So if the script loading tag is missing then all Type-Czech calls turn into nops.
<pre>
&lt;script src="TypeCzech.js"&gt;&lt;/script&gt;
</pre>



Note that there is a very small performance penalty for keeping the checking functions "as is", when the 
TypeCzech library is not present.

All calls to Person below are still intercepted by the stand in type_czech.check() in this example.
<pre>
  type_czech = { check: (nop) => nop, stats: (nop) => nop, is_active: false }
</pre>

So when there is no Type-Czech library, an extra function call tax is incurred.
Because the below code 
<pre>
  Person = type_czech.check(Person, PRE_Person)

  Person(arguments);
</pre>
Is transformed into this code, which has an extra function call and an extra return.
<pre>
  NEW_Person = function InterceptedPerson (arguments){
    return Person(arguments);
  }
</pre>

By leaving the code in production, and not loading the library, 
it is very easy to turn Type-Czech on &amp;off for live testing.

<br><br>
Of course one can always not load any Type-Czech code to production also.

<br><br>

</div>

<div id="console-log"  class='a-collection'>
  <div class='a-title'>Console Output</div>
  <div id='log-text'></div>
  <br>
</div>

</div>








<!--            ------------------------------------------       -->


<script src="../consolelog.js">
</script>

<link rel="stylesheet" href="../type-czech.css">
<style>
</style>





<!--            ------------------------------------------       -->















<script>
  log = captureConsole("log-text");
</script>




<script id="check-code">

/**/  if (typeof TypeCzech === 'function')
/**/    type_czech = TypeCzech('LOG-ERRORS')
/**/  else
/**/    type_czech = { check: (nop) => nop, stats: (nop) => nop,
/**/                                          is_active: false }
/**/
/**/  function PRE_Person(f_name, l_name){
/**/    if (arguments.length !== 2) 
/**/      return `PRE: ${arguments.length} parameters, not 2`
/**/
/**/    const regnal_numbers = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII'];
/**/    if (!regnal_numbers.includes(l_name))
/**/      return `PRE: bad regnal number '${l_name}'`
/**/
/**/    return ''
/**/  }
/**/
/**/  Person = type_czech.check(Person, PRE_Person) 

function Person(f_name, l_name){
  first_last = f_name + ' ' + l_name
  return first_last
}

cleopatra = Person('Cleopatra', 'VII')
linesConsole(2)
log('out A : ', cleopatra)

linesConsole(1)

catherine = Person('catherine', 'II')
log(NL +'out C : ', catherine)

linesConsole(2)

atahualpa = Person('Atahualpa')
log('out D : ', atahualpa)

linesConsole(2)

louis = Person('Louis', 'XIV')
log('out D : ', louis)


  
  
  </script>











<script>

  jsToDiv('js-code', "check-code");

</script>