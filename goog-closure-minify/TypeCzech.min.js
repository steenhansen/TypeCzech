'use strict';let the_exports;the_exports="undefined"===typeof exports?window:exports;if("undefined"===typeof TYPE_CZECH_current_test_number)var TYPE_CZECH_current_test_number="no test number assigned yet";
(function(R){R.TypeCzech=function(){function Ha(...V){function S(a,b){a=JSON.stringify(a);a=a.substring(1,a.length-1);console.log(`%c ${a}`,b)}function pa(a){let b="";const c=a.toString();c.startsWith("class ")&&c.includes(" constructor(")&&(b=a.name);return b}function Ia(a){let b=!1;null!==a&&"undefined"!==typeof a&&"function"===typeof Object.getPrototypeOf(a)&&"object"===typeof a.prototype&&pa(a)&&(b=!0);return b}function Ja(a){let b="";a.toString().startsWith("function ")&&(b=a.name);return b}
function Ka(a){var b=!1;null!==a&&"undefined"!==typeof a&&"object"===typeof Object.getPrototypeOf(a)&&(a=a.constructor,b=(b=pa(a))?b:Ja(a));return b}function La(a){let b=!1;"string"===typeof a&&qa.includes(a)&&(b=!0);return b}function ra(a){var b=!1;if(null!==a&&"undefined"!==typeof a){const c=[];function d(e){e=Object.getPrototypeOf(e);null!==e&&(c.push(e.constructor.name),d(e))}b=Object.getPrototypeOf(a).constructor.name;qa.includes(b)?b=[b]:(d(a),b=c)}return b}function sa(a){a=ra(a);let b=!1;a&&
(b=a.shift());return b}function w(a){const b=sa(a);return b?b:null===a?"null":a instanceof Date?"Date":a instanceof RegExp?"RegExp":Array.isArray(a)?"Array":typeof a}function D(a){a=w(a);return"Array"===a?!0:"Object"===a}function ta(a){let b=!1;kb.has(a)?b=!0:ua[a]&&(b=!0);return b}function L(a){return ua[a]?ua[a]:a}function W(a){return Ma[a]?Ma[a]:a}function ha(a){return a.replace(/"/g,"'")}function y(a){if(D(a))a=Na(a);else if("undefined"===typeof a)a="-un-defined-";else if("bigint"===typeof a)a=
`${a}n`;else if("string"===typeof a)a=a.replace(/"/g,"'");else{const b=JSON.stringify(a);a="object"===typeof a?ha(b):b}return a}function Na(a){const b=[];if(Array.isArray(a))a.forEach(c=>{const d=y(c);"String"===w(c)?b.push(`'${d}'`):b.push(d)}),a=`[${b.join()}]`;else{for(const [c,d]of Object.entries(a))a=y(d),b.push(`'${c}':${a}`);a=`{${b.join()}}`}return a}function Oa(a,b){return"bigint"===typeof b?`${b}n`:"undefined"===typeof b?"-un-defined-":Number.isNaN(b)?"-NaN-":"function"===typeof b||b&&b.constructor===
RegExp?`${String(b).substring(0,30)} ...`:b}function H(a){a=JSON.stringify(a,Oa);return y(a)}function q(a,b){return va&&b?(a=`${b} - ${a}`,wa&&S(a,"background: #ee0; color: #F00"),a):a}function X(a){let b="";if(!La(a)&&"string"===typeof a){const c=a.toLowerCase();Pa[c]&&(b=q(`The type '${a}' is not a valid type, but it looks just like '${Pa[c]}'`,"TC@33"))}return b}function xa(a){if(0<Object.keys(a).length){const [b,c]=Object.entries(a)[0];a=X(c);a||(a=y(c),a=q(` The key '${b}', which has a type of '${a}', is missing in the checked object`,
"TC@46"))}else a="";return a}function Y(a){if(a instanceof Date)var b="Invalid Date"==a;else a instanceof RegExp?b="/(?:)/"===a.toString():Number.isNaN(a)?b=!0:null==a?b=!0:(b=0===a.length,a="object"===typeof a&&0===Object.keys(a).length,b=b||a);return b}function ia(a,b){let c;1===a.length?[c]=a:c=a[b];return c}function E(a){let b;null===a||void 0===a||"undefined"===typeof a.length||"string"===typeof a?b=a:1===a.length?[b]=a:b=[...a];return b}function I(a){let b=0;a&&(b=1===a.length||Array.isArray(a)?
179:0);return b}function ya(a){function b(){return`${M} : ${O}`}function c(h){const l=[];h.forEach(p=>{const m=sa(p);m?l.push(`'${m}'`):(p=H(p),l.push(p))});return l}function d(h,l,p,m,u){var v=p.split("() ")[0];M+=1;z[v].CHECKS+=1;ja&&S([M],"background: #ee0; color: #00F");if(h){O+=1;z[v].FAILURES+=1;Qa(b());l=` ${l}() ${p} `;if("string"===typeof h)l=h;else{p=l;const [t,B,J]=h;h=c(m);1<h.length?(h=`[${h}]`,m=y(m)):(m=y(m),m=m.substring(1,m.length-1));l=H(J);p=p+B+("\n\t\t"+t);v="    ACTUAL TYPES";
let Ra="    ACTUAL VALUE",Sa=" EMPTY ASSERTION";if("valid(arguments, expected_types)"===t||"validExtras(arguments, expected_types)"===t||"validUnion(arguments, expected_types)"===t||"validUnionExtras(arguments, expected_types)"===t)v="    ACTUAL TYPES",Ra="    ACTUAL VALUE",Sa="   EXPECTED TYPE";p+=`${"\n\t\t"}${v} ${h}`;p+=`${"\n\t\t"}${Ra} ${m}`;p+=`${"\n\t\t"}${Sa} ${l}`;p+=`${"\n\t\t"}${"CALLING FUNCTION"} ${u}`;l=p+="\n\t\t"}if(Z)throw l;aa&&console.log(l)}}function e(h){h=h.toString().match(lb);
const l=`${h[0]})`.replace(/^function /,"");h[2].split(", ").includes("arguments")&&S(`Parameter 'arguments' shadows arguments object : ${h[0]})`,"background: #ee0; color: #00F");return l}function g(h,l,p){const m=e(p),u=p.apply(null,l);d(u,p.name,h,l,m)}function f(h,l,p,m){const u=e(m);l=m.apply(l,p);d(l,m.name,h,p,u)}function k(h){return"object"===typeof h?`{ ${Object.keys(h).map(l=>`${l}()`).reduce((l,p)=>`${l}, ${p}`)} }`:`${h.name}()`}function n(h,l,p){if("function"!==typeof h&&"object"!==typeof h)throw h=
y(h),l=`${l}, is a not a function nor an object that has a value of '${h}'`,l=q(l,`TC@${p}`),l;}function r(h,l){const p=k(l);if(void 0===h)throw q(`The function to be checked by ${p} is 'undefined', maybe namespace issue.`,"TC@05");if(h===l)throw h=`_ParametersCheck you cannot use ${h.name}() to test`+`${l.name}(), they must be different functions`,h=q(h,"TC@28"),h;}function x(h){z[h]?z[h].PRE+=1:z[h]={PRE:1,POST:0,["CHECKS"]:0,["FAILURES"]:0}}function C(h){z[h]?z[h].POST+=1:z[h]={PRE:0,POST:1,["CHECKS"]:0,
["FAILURES"]:0}}function P(h,l,p){const m=h.name;return new Proxy(h,{apply(u,v,t){ba(b());A&&l&&(x(m),"undefined"===typeof v?g(`${m}${"() "}${"PRE-FUNC:"}`,t,l):f(`${m}${"() "}${"PRE-FUNC:"}`,v,t,l));u=u.apply(v,t);A&&p&&(C(m),"undefined"===typeof v?g(`${m}${"() "}${"POST-FUNC:"}`,[u],p):f(`${m}${"() "}${"POST-FUNC:"}`,v,[u],p));return u}})}function F(h,l,p,m){const u=new Set;p&&Object.keys(p).forEach(t=>u.add(t));m&&Object.keys(m).forEach(t=>u.add(t));let v=!1;Object.isFrozen(l)&&(v=!0,l=Object.assign({},
l));u.forEach(t=>{if(t!==h){let B=!1;p&&(B=p[t]||!1);let J=!1;m&&(J=m[t]||!1);l[t]&&(l[t]=P(l[t],B,J))}});v&&Object.freeze(l);return l}function ka(h,l){return"function"===typeof h?h:"undefined"===typeof h?!1:h[l]}function mb(h,l,p){const m=h.name,u=ka(l,m),v=ka(p,m);return new Proxy(h,{apply(){},construct(t,B,J){ba(b());A&&u&&(x(m),g(`${m}${"() "}${"PRE-CLASS:"}`,B,u));t=Reflect.construct(t,B,J);t=F(m,t,l,p);A&&v&&(C(m),f(`${m}${"() "}${"POST-CLASS:"}`,t,[t],v));return t}})}function nb(h,l,p){const m=
h.name,u=ka(l,m),v=ka(p,m);return new Proxy(h,{apply(t,B,J){ba(b());A&&u&&(x(m),g(`${m}${"() "}${"PRE-OBJ:"}`,J,u));t=t.apply(B,J);t=F(m,t,l,p);A&&v&&(C(m),g(`${m}${"() "}${"PRE-OBJ:"}`,[t],p[m]));return t},construct(t,B){ba(b());A&&u&&(x(m),g(`${m}${"() "}${"POST-OBJ:"}`,B,u));t=new t(...B);t=F(m,t,l,p);A&&v&&(C(m),f(`${m}${"() "}${"POST-OBJ:"}`,t,[t],v));return t}})}function ob(h,l,p){var m=arguments.length;if(2!==m&&3!==m)throw q(`TypeCzech.confirmParameters() needs 2 or 3 parameters, not ${m}`,
"TC@52");if(Ta.has(h)){var u=`${h.name}() is already proxied with ${h.name}`;u=q(u,"TC@04");throw u;}if("function"!==typeof h)throw u=`The first parameter to TypeCzech.check(), target_proxy is not a function, but is instead ${y(h)}`,u=q(u,"TC@06"),u;if(l)for(var v in l)m=l[v],r(h,m),n(m,"TypeCzech.check() 2nd parameter, PRE-CHECK()",31);if(p)for(u in p)v=p[u],r(h,v),n(v,"TypeCzech.check() 3rd parameter, POST-CHECK()",37);Ia(h)?u=mb(h,l,p):(u=w(l),v=w(p),u="Object"===u||"Object"===v?nb(h,l,p):P(h,
l,p));Ta.add(u);return u}var T=arguments.length;if(1<T)throw q(`TypeCzech.confirmParameters() needs 0 or 1 parameters, not ${T}`,"TC@53");let ba=()=>"",Qa=()=>"",z=[],M=0,O=0,A=!1;T=(h,l,p)=>h;T=za?ob:T;if(za){a&&"Object"!==w(a)&&S(["_ParametersCheck - arg_check_events is not an Object with onStart(), onCheck(), onError() ",a],"background: #ee0; color: #F00");"undefined"!==typeof window&&S(["TypeCzech-init","ver 4.0",Z?"THROW-EXCEPTIONS":"",aa?"LOG-ERRORS":"",K?"UNDEF-OK":"",ja?"CONSOLE-COUNT":"",
a],"background: #cc0; color: #080");if(void 0!==a.onStart)a.onStart("Start");void 0!==a.onCheck&&(ba=a.onCheck);void 0!==a.onError&&(Qa=a.onError);A=!0}return{confirmParameters:T,checkBegin_:function(){A=!0;O=M=0},checkTally_:function(){return M},checkEnd_:function(){A=!1},failureTally_:function(){return O},failureRatio_:function(){return`${O}/${M}`},stats_:function(h){"undefined"===typeof h?(h=z,h[0]=`Total Checks : ${M}`,h[1]=`Failure Count: ${O}`):h={possible_type:z[h]};return h},statsReset_:function(){z=
[];O=M=0;A=A=!1}}}function ca(a,b){b||(b={});"function"===typeof b&&(b={cmp:b});var c="boolean"===typeof b.cycles?b.cycles:!1,d=b.cmp&&function(g){return function(f){return function(k,n){return g({key:k,value:f[k]},{key:n,value:f[n]})}}}(b.cmp),e=[];return function k(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(void 0!==f){if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var n;if(Array.isArray(f)){var r="[";for(n=0;n<f.length;n++)n&&
(r+=","),r+=k(f[n])||"null";return r+"]"}if(null===f)return"null";if(-1!==e.indexOf(f)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var x=e.push(f)-1,C=Object.keys(f).sort(d&&d(f));r="";for(n=0;n<C.length;n++){var P=C[n],F=k(f[P]);F&&(r&&(r+=","),r+=JSON.stringify(P)+":"+F)}e.splice(x,1);return"{"+r+"}"}}(a)}function Ua(a,b){a=Object.entries(a);const [c,d]=a[0];b=y(b);return q(`Index '${c}' is supposed to be a '${d}', but is missing : ${b}`,
"TC@03")}function la(a,b,c,d){let e="";const g=w(a),f=w(b);void 0===b?e="":g!==f?g!==b&&(a=H(a),e=q(`Parameter is meant to be '${f}' but is`+` of the wrong type of '${g}':${a}`,"TC@36")):"Array"===f?e=Va(a,b,c,d):"Object"===f&&(e=Wa(a,b,c,d));return e}function Xa(a){let b="";a=a.toLowerCase();pb.includes(a)||(b=" VALID TYPES = A:Array, I:BigInt, B:Boolean, D:Date, F:Function, N:Number, O:Object, R:RegExp, S:String, Y:Symbol");return b}function Va(a,b,c,d){let e="";if(1===b.length&&1<a.length)e=0===
d?"Use type_czech.valid( [...arguments], ['the-var-type']) for VARIADIC function parameters":Ya(a,b[0],c,d+1);else{const g=Array.from(b);b=g.length;a.forEach((f,k)=>{if(""===e){const n=w(f),r=ia(g,k);D(r)?e=la(f,r,c,d+1):(f=L(ia(g,k)),f===n||"TYPE-EXTRAS"===c&&void 0===f||K&&"null"===n||K&&"undefined"===n||(e=Za(f,k,n)));delete g[k]}});1!==b&&a.length<b&&(e=Ua(g,a))}return e}function Wa(a,b,c,d){const e=[],g={...b};Object.entries(a).forEach(k=>{let n="";const [r,x]=k;D(x)?(n+=la(a[r],b[r],c,d),delete g[r]):
Object.prototype.hasOwnProperty.call(g,r)?(n+=$a(g,r,x),delete g[r]):"TYPE-VERIFY"===c&&(n=q(`Extra key in checked object - (${r}:'${x}')`,"TC@39"));n&&e.push(n)});let f="";0<e.length&&e.forEach(k=>{f+=k});return f+=xa(g)}function ab(a,b){b=L(b);var c="";"null"===b||"undefined"===b?c=q(`The type '${b}' is not a valid type`,"TC@17"):ta(b)?(c=w(a),c=c===b?"":"Array"===c?`The variable '[]', which is a 'Array', is not a '${b}'`:"Object"===c?`The variable '{}', which is a 'Object', is not a '${b}'`:"undefined"===
c?q(`The variable '${void 0}', is not a '${b}'`,"TC@34"):`The variable '${a}', which is a '${c}', is not a '${b}'`):Ka(a)!==b&&((a=X(b))||(a=q(`The type '${b}' is not the correct class`,"TC@16")),c=a);return c}function Aa(a,b,c,d){return D(b)?la(a,b,c,d):ab(a,b)}function ma(a,b,c,d){Array.isArray(a)||(d=179);return Aa(a,b,c,d)}function bb(a,b){a=Object.entries(a);const [c,d]=a[0];b=H(b);return q(`INDEX '${c}' is promised to be a '${d}', but is missing : ${b}`,"TC@29")}function cb(a,b,c,d,e,g,f){e=
H(d);return"EMPTY-ERROR"===a||"EM-ER"===a?Y(b)?q(`INDEX '${c}' is erroneously empty :`,"TC@30"):"":"EMPTY-OK"===a||"EM-OK"===a||"EMPTY-IGNORE"===a||"EM-IG"===a?N(d[c],a,g,f):"String"===w(a)?q(`INDEX '${c}' is incorrect  type, '${a}', only`+` [EM-ER, EMPTY-ERROR, EMPTY-OK, EM-OK, EMPTY-IGNORE, EM-IG] allowed  : ${e}`,"TC@32"):N(d[c],a,g,f)}function qb(a,b,c,d){b=y(JSON.stringify(b));return q(`The parameter array ${a} does not have the same number of elements as ${b}. `+` Lengths are different ${c} !== ${d}.`,
"TC@20")}function N(a,b,c,d){const e=w(b);void 0===b?a="":"Array"===e?("Array"===w(b[0])&&(1===b.length&&Ba(a,b[0],c,d),Ba(a,b,c,d)),a=db(a,b,c,d)):a="Object"===e?eb(a,b,c,d):Ca(a,b);return a}function Ca(a,b){let c="";b=W(b);const d=w(a);if("EMPTY-ERROR"===b){const e=w(a);Da(e)?Y(a)&&("Object"===d&&(a=" { } "),c=q(`${b} states '${d}' must not `+`be empty for the value '${a}'`,"TC@24")):c=q(`A '${d}' cannot be empty, so the state`+` of '${b}' is illegal for the value '${a}'`,"TC@25")}else"EMPTY-OK"!==
b&&"EMPTY-IGNORE"!==b&&(c=q(`Must 'EMPTY-OK' or 'EMPTY-ERROR' not '${b}'`,"TC@11"));return c}function fb(a,b,c,d){return D(b)?N(a,b,c,d):Ca(a,b)}function na(a,b,c,d){return 1!==b.length||"EMPTY-OK"!==b[0]&&"EM-OK"!==b[0]?fb(a,b,c,d):q("Completely pointless as checking with ['EM-OK'] or ['EMPTY-OK'] matches everything","TC@12")}function Ea(a,b,c){const [d,e]=a;let g=a="",f=!1;e.forEach(k=>{let n=k;"String"===k&&1===d.length&&(n=[k]);k=na(d,n,b,c);""===k?f=!0:g=k});f||(a=g);return a}function Fa(a,b,
c){const [d,e]=a;let g=a="",f=!1;e.forEach(k=>{let n=k;"String"===k&&1===d.length&&(n=[k]);k=ma(d,n,b,c);""===k?f=!0:g=k});f||(a=g);return a}function gb(a){let b=a;a=a[0];Array.isArray(a)&&(b=a);b.forEach(c=>{if("object"===typeof c)Ga=c;else if("UNDEF-OK"===c)K="UNDEF-OK";else if("DEBUG-CONSOLE-TRACE"===c)wa="DEBUG-CONSOLE-TRACE";else if("THROW-EXCEPTIONS"===c)Z="THROW-EXCEPTIONS";else if("LOG-ERRORS"===c)aa="LOG-ERRORS";else if("CONSOLE-COUNT"===c)ja="CONSOLE-COUNT";else if("NO-CHECKING"!==c)if("DEBUG-ERROR-TAGS"===
c)va="DEBUG-ERROR-TAGS";else if(""!==c)throw c=`Not THROW-EXCEPTIONS/LOG-ERRORS/UNDEF-OK/DEBUG-CONSOLE-TRACE/NO-CHECKING, unknown : ${H(c)}`,c=q(c,"TC@21"),c;});hb=za=!(!Z&&!aa);return[Z,aa,K,wa,ja,va]}function da(a,b,c){var d="";if(2!==a.length)d=q(`TypeCzech.${b}() has 2 ${"arguments"} not ${a.length}`,"TC@14");else{const [g,f]=a;var e=w(g);const k=w(f),n=JSON.stringify(e);a=f;"string"!==typeof f&&(a=JSON.stringify(f));"Array"===e&&"Array"!==k?(b=1<g.length,"Array"!==f&&"A"!==f&&b&&(d=g,b=L(a),
d=q("Comparing actual [] parameter, with a"+` value of ['${d}'], against the expected shape of ${b}. They should be the same type.`+` You cannot compare an array with a non-array; both []s, or both ${b}s.`,"TC@58"),a=ha(a),d=[c,d,a])):"Array"===k&&"Array"!==e?(d=e,e=a,b=y(g),e=L(e),d=q(`Comparing actual '${d}' parameter,`+` with a value of "${b}", in relation to the expected shape of ${e}. They should be the`+` same type. You cannot compare an array with a non-array; both []s, or both '${d}'s. Or same object keys.`,
"TC@49"),a=ha(a),d=[c,d,a]):"Array"!==k&&("Object"===k?"Object"!==e&&(d=q(`TypeCzech.${b}() called with '{}' against '!{}'.`+` Contrasting '${n}' with '${a}'.`,"TC@07")):"String"!==k&&(d=q(`TypeCzech.${b}() called with 'a-variable' and 'not-a-variable type'.`+` Matching '${n}' with '${a}'.`+` Preferably try TypeCzech.${b}(12, 'Number')`,"TC@50")))}return d}function ea(a,b){let c="";if(2!==a.length)c=q(`TypeCzech.${b}() needs 2 parameters, not ${a.length}`,"TC@51");else{a=a[1];const d=JSON.stringify(a);
"Array"!==w(a)&&(c=q(`TypeCzech.${b}() called with a second parameter`+` as a non-array shape of ${d}`,"TC@15"))}return c}function U(a){if(160>a.length)var b=a;else b=a.substring(0,100),a=a.substring(a.length-50),b=`${b} ${"<<<<<<...>>>>>>"} ${a}`;return b}function ib(a,b){var c="";if(a!==b){c=0;for(var d=!1;a[c]===b[c];){if(c===a.length||c===b.length){d=!0;break}c+=1}const [g,f]=[c,d];var e=a.length;d=b.length;f?e>d?(c=0===d?"``":b,e=a.substring(g),b="``"):(c=0===e?"``":a,e="``",b=a.substring(g)):
(c=0===g?"``":a.substring(0,g),e=0===e?"``":a.substring(g),b=0===d?"``":b.substring(g));a=e;c=U(c);a=U(a);b=U(b);c=y(`${"\n\t\t"}START-SAME ~ ${c}`);a=y(`${"\n\t\t"}  PRE-DIFF ~ ${a}`);b=y(`${"\n\t\t"} POST-DIFF ~ ${b}`);c=`${c}${a}${b}`}return c}let hb=!0,G,Ga=!1,za=!1;const Q={},Ta=new WeakSet;let Z=!1,aa=!1,K=!1,ja=!1,va=!1,wa=!1;const lb=/([^(]*\()([^)]*)/,Ma={"EM-OK":"EMPTY-OK","EM-ER":"EMPTY-ERROR","EM-IG":"EMPTY-IGNORE"},qa="Array BigInt Boolean Date Function Number Object RegExp String Symbol".split(" "),
Pa={array:"Array",bigint:"BigInt",boolean:"Boolean",date:"Date",function:"Function",number:"Number",object:"Object",regexp:"RegExp",string:"String",symbol:"Symbol"},kb=new Set(qa),ua={A:"Array",I:"BigInt",B:"Boolean",D:"Date",F:"Function",N:"Number",O:"Object",R:"RegExp",S:"String",Y:"Symbol"},pb="a array i bigint b boolean d date f function n number o object r regexp s string y symbol".split(" "),oa={backBlink:a=>{document.body.style.background=a;setTimeout(()=>{document.body.style.background="white"},
100)},onStart:()=>oa.backBlink("green"),onCheck:()=>oa.backBlink("blue"),onError:()=>oa.backBlink("red")},Da=a=>"Array"===a?!0:"Object"===a?!0:"String"===a?!0:"RegExp"===a?!0:"Date"===a?!0:"Number"===a,fa={decycle:function(a,b){var c=new WeakMap;return function f(e,g){void 0!==b&&(e=b(e));if(!("object"!==typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)){var k=c.get(e);if(void 0!==k)return{$ref:k};c.set(e,g);if(Array.isArray(e)){var n=
[];e.forEach(function(r,x){n[x]=f(r,g+"["+x+"]")})}else n={},Object.keys(e).forEach(function(r){n[r]=f(e[r],g+"["+JSON.stringify(r)+"]")});return n}return e}(a,"$")},retrocycle:function(a){var b=/^\$(?:\[(?:\d+|"(?:[^\\"\u0000-\u001f]|\\(?:[\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*")\])*$/;(function e(d){d&&"object"===typeof d&&(Array.isArray(d)?d.forEach(function(g,f){if("object"===typeof g&&null!==g){var k=g.$ref;"string"===typeof k&&b.test(k)?d[f]=eval(k):e(g)}}):Object.keys(d).forEach(function(g){var f=
d[g];if("object"===typeof f&&null!==f){var k=f.$ref;"string"===typeof k&&b.test(k)?d[g]=eval(k):e(f)}}))})(a);return a}},Ya=(a,b,c,d)=>{let e="";const g=L(b);a.forEach((f,k)=>{if(""===e){const n=w(f);if(D(g))e=Aa(f,g,c,d);else if(!(g===n||K&&"null"===n||K&&"undefined"===n)){let r=X(g);r||(f=y(f),r=q(`INDEX '${k}' is asserted to be a '${g}',`+` but is fallaciously a '${n}' : ${f}`,"TC@45"));e=r}}});return e},Za=(a,b,c)=>{let d="",e;null===a?e="null":"undefined"===typeof a?e="undefined":(e=a,d=Xa(a));
(a=X(e))||(a=q(` INDEX '${b}' is assumed to be a '${e}',`+` but is mistakenly a '${c}'.${d}`,"TC@44"));return a},$a=(a,b,c)=>{let d="";a=L(a[b]);if(ta(a)){const e=w(c);a===e||K&&"null"===e||K&&"undefined"===e||("undefined"===typeof c?d=q(`Key '${b}' was given to be a '${a}' but was instead 'undefined'`,"TC@41"):"null"===e?d=q(`Key '${b}' was determined to be a '${a}' but was instead 'null'`,"TC@42"):(c=y(c),d=q(`Property '${b}' is indicated to be a '${a}',`+` but is inaccurately a '${e}' : ${c}`,
"TC@43")))}else(d=X(a))||(d=q(`The type '${a}' is not valid`,"TC@40"));return d},Ba=(a,b,c,d)=>{let e="";const g=w(a);if("Array"!==g){const f=y(a);e=q(`Variable '${a}' must be an array but is instead a '${g}', : ${f}`,"TC@97")}else a.forEach((f,k)=>{""===e&&(1===b.length?((f=N(f,b,c,d))&&(f+=` inside [${k}]`),e+=f):e+=N(f,b[k],c,d))});return e},db=(a,b,c,d)=>{let e="";var g=a.length;const f=b.length,k=y(JSON.stringify(a));if(0===g)e=q(`The parameter array ${k} is empty.`,"TC@19");else if("EMPTY-EXTRAS"!==
c&&1<f&&f!==g)e=qb(k,b,g,f);else{const n=Array.from(b),r=n.length;g=w(a);"Array"!==g?e=q(`Variable '${a}' must be an array but is a '${g}', : ${k}`,"TC@96"):a.forEach((x,C)=>{if(""===e){const P=w(x),F=ia(n,C);D(F)?e=N(a[C],F,c,d):1!==r&&delete n[C];(x=cb(F,x,C,a,P,c,d))&&(e=x)}});1!==r&&"EMPTY-EXTRAS"!==c&&a.length!==r&&(e=bb(b,a))}return e},jb=(a,b,c)=>{let d="";a=W(a);if("EMPTY-ERROR"===a){const e=w(b);Da(e)?Y(b)&&(b=H(b),d=q(`'${c}' is a '${e}' which is reputed `+`to be '${a}' but has a value of ${b}.`,
"TC@08")):d=q(`Cannot be invalid '${c}' ${a}' is a ${b} :: ${e}`,"TC@09")}else"EMPTY-OK"!==a&&"EMPTY-IGNORE"!==a&&(c=`bad invalid key '${y(a)}', must be either EMPTY-OK -ER -IG`,d=q(c,"TC@10"));return d},eb=(a,b,c,d)=>{const e=[],g={...b};Object.entries(a).forEach(k=>{var n="";const [r,x]=k;k=W(g[r]);D(x)?(k=W(b[r]),Y(x)&&"EMPTY-ERROR"===k?(n=H(x),n=q(`Key '${r}' was understood to be '${k}' but was rather '${n}'`,"TC@26")):n+=N(a[r],k,c,d),delete g[r]):Object.prototype.hasOwnProperty.call(g,r)?(n=
jb(k,x,r),delete g[r]):"EMPTY-VERIFY"===c&&(n=q(`Extra key in checked object - (${r}:'${x}')`,"TC@27"));n&&e.push(n)});let f="";0<e.length&&e.forEach(k=>{f+=k});return f+=xa(g)};gb(V);G=Ga?ya(Ga):ya(!1);return{_ParametersCheck:ya,_arrayOfOneType:Ya,_arrayRecurseLevel:I,_aTypeOf:w,_canBeEmpty:Da,_className:pa,_collectionToStr:Na,_coloredConsole:S,_consoleError:q,_cycle:fa,_doUnionEmpty:Ea,_doUnionShape:Fa,_doubleToSingleQuotes:ha,_emptyArrayInArray:Ba,_emptyArrayTypes:db,_emptyCheck:na,_emptyCollectionTypes:eb,
_emptyContainer:N,_emptyError:cb,_emptyErrorMess:bb,_emptyKeysChecked:jb,_emptyScalar:Ca,_emptyVariable:fb,_fast_json_stable_stringify:ca,_functionName:Ja,_getParameters:E,_isAClass:Ia,_anObjectsType:Ka,_isBuiltInType:La,_isCollection:D,_isEmpty:Y,_isScalar:function(a){return!D(a)},_isPlainJsType:ta,_jsonStr:H,_missingKey:xa,_unionChecks:ea,_refDiff:ib,_shapeArrayTypes:Va,_shapeCheck:ma,_shapeCollectionTypes:Wa,_shapeContainer:la,_shapeErrorMess:Ua,_shapePropertyType:$a,_shapeScalar:ab,_shapeVariable:Aa,
_shortToLongEmpty:W,_shortToLongType:L,_showRealTypes:Xa,_shrinkDiffs:U,_specParameters:gb,_stringifyReplacer:Oa,_toStr:y,_twoArrays:da,_typeFromArray:ia,_wrongType:Za,_NOT_VARIAD_ARR_L_179:179,_POS_VARIAD_ARR_L_0:0,TYPE_CZECH_EVENTS:oa,CZECH_ERROR_INDENT:"\n\t\t",is_active:hb,check:function(a,b,c){return"undefined"===typeof c?G.confirmParameters(a,b,!1):G.confirmParameters(a,b,c)},checkBegin:function(){return G.checkBegin_()},checkEnd:function(){return G.checkEnd_()},checkTally:function(){return G.checkTally_()},
failureRatio:function(){return G.failureRatio_()},failureTally:function(){return G.failureTally_()},mutateSnapshot:function(a,b,c){var d=arguments.length;if(3!==d)throw q(`TypeCzech.mutateSnapshot() needs 3 parameters, not ${d}`,"TC@55");if(!D(c))throw d=`TypeCzech.mutateSnapshot()'s 3rd parameter is not an array/object but instead a '${w(c)}'`,d=q(d,"TC@56"),d;d=`${a}-${b}`;var e=fa.decycle(c);e=ca(e);e={func_name:a,var_name:b,collection_ref:c,pre_collect_str:e};Q[d]?Q[d].push(e):Q[d]=[e];d=fa.decycle(Q);
ca(d)},mutated:function(a,b){var c=`${a}-${b}`,d="";if(Q[c]){c=Q[c].pop();const {collection_ref:e,pre_collect_str:g}=c;c=fa.decycle(e);c=ca(c);if(g!==c){const f=y(g);d=y(c);a=`The reference variable '${b}' in function '${a}()' changed values`;b=U(f);d=U(d);b=`${"\n\t\t"}from ${b}`;d=`${"\n\t\t"}  to ${d} ${"\n\t\t"}`;c=ib(g,c);d=q(`${a}${b}${d}${c}`,"TC@48")}}else d=q(`No record of a mutateSnapshot('${c}', a_var)`,"TC@47");c=fa.decycle(Q);ca(c);return d},objectIsA:function(a,b){a=ra(a);let c=!1;a&&
(c=a.includes(b));return c},objectInterface:function(a,b){a=E(a);let c="";for(const d in b){let e="";const g=L(b[d]);if("string"!==typeof g)e=`objectInterface() {${d}:'${g}'} has a bad type - not string`;else if("Function"!==g&&"Object"!==g)e=`objectInterface() only allows functions and objects, not {${d}:'${g}'}`;else{const f=a[d];f||(e="missing key");const k=w(f);g!==k&&(e=`actual type of '${d}' is '${k}', with a value `+`of '${f}', not the expected '${g}' type`)}e&&!c&&(c=e)}c&&(c=`Interface mismatches : ${c}`);
return c},objectPrototypes:ra,objectType:sa,stats:function(a){return G.stats_(a)},statsReset:function(){return G.statsReset_()},valid:function(a,b){var c=E(a);let d=da([c,b],"valid","valid(arguments, expected_types)");""===d&&(a=I(a),d=(c=ma(c,b,"TYPE-VERIFY",a))?["valid(arguments, expected_types)",c,b]:"");return d},validExtras:function(a,b){var c=E(a);let d=da([c,b],"validExtras","validExtras(arguments, expected_types)");""===d&&(a=I(a),d=(c=ma(c,b,"TYPE-EXTRAS",a))?["validExtras(arguments, expected_types)",
c,b]:"");return d},validUnion:function(a,b){var c=E(a);let d=ea([c,b],"validUnion");""===d&&(a=I(a),d=(c=Fa([c,b],"TYPE-VERIFY",a))?["validUnion(arguments, expected_types)",c,b]:"");return d},validUnionExtras:function(a,b){var c=E(a);let d=ea([c,b],"validUnionExtras");""===d&&(a=I(a),d=(c=Fa([c,b],"TYPE-EXTRAS",a))?["validUnionExtras(arguments, expected_types)",c,b]:"");return d},valueless:function(a,b){var c=E(a);let d=da([c,b],"valueless","valueless(arguments, expected_emptys)");""===d&&(a=I(a),
d=(c=na(c,b,"EMPTY-VERIFY",a))?["valueless(arguments, expected_emptys)",c,b]:"");return d},valuelessExtras:function(a,b){var c=E(a);let d=da([c,b],"valuelessExtras","valuelessExtras(arguments, expected_emptys)");""===d&&(a=I(a),d=(c=na(c,b,"EMPTY-EXTRAS",a))?["valuelessExtras(arguments, expected_emptys)",c,b]:"");return d},valuelessUnion:function(a,b){var c=E(a);let d=ea([c,b],"valuelessUnion");""===d&&(a=I(a),d=(c=Ea([c,b],"EMPTY-VERIFY",a))?["valuelessUnion(arguments, expected_emptys)",c,b]:"");
return d},valuelessUnionExtras:function(a,b){var c=E(a);let d=ea([c,b],"valuelessUnionExtras");""===d&&(a=I(a),d=(c=Ea([c,b],"EMPTY-EXTRAS",a))?["valuelessUnionExtras(arguments, expected_emptys)",c,b]:"");return d}}}R.type_czech=0<arguments.length?Ha(...arguments):"undefined"!==typeof R.TYPE_CZECH_COMMANDS&&0<R.TYPE_CZECH_COMMANDS.length?Ha(R.TYPE_CZECH_COMMANDS):{check:V=>V,stats:V=>V,is_active:!1};return R.type_czech}})(the_exports);
