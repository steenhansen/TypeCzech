'use strict';const VERS_NUM="v1.0.0 21-11-13";let the_exports;the_exports="undefined"===typeof exports?window:exports;if("undefined"===typeof TYPE_CZECH_current_test_number)var TYPE_CZECH_current_test_number="not-in-test-yet";
(function(P){P.TypeCzech=function(){function Ha(...fa){function Q(a,b){a=A(a);a=a.substring(1,a.length-1);console.log(`%c ${a}`,b)}function qa(a){return a.replace(/"/g,"'")}function B(a){a=u(a);return"array"===a?!0:"object"===a}function p(a){if(B(a))a=Ia(a);else if("undefined"===typeof a)a="undefined";else if("bigint"===typeof a)a=`${a}n`;else if("string"===typeof a)'"Str_ify:null"'===a?a="null":'"Str_ify:und"'===a?a="undefined":'"Str_ify:NaN"'===a?a="NaN":'"Str_ify:Inf"'===a?a="Infinity":(a=a.replace(/"/g,
'"'),a.startsWith('"{')&&a.endsWith('}"')?a=a.substring(1,a.length-1):(a=a.replace(/"$/g,""),a=a.replace(/^"/g,""),0===a.length&&(a="''")));else if("symbol"===typeof a)a=a.toString(),a=a.replace(/\(/g,"('"),a=a.replace(/\)/g,"')");else{const b=A(a);a="object"===typeof a?qa(b):b}return a}function Ja(a,b){return"bigint"===typeof b?`${b}n`:null===b?"Str_ify:null":"undefined"===typeof b?"Str_ify:und":Number.isNaN(b)?"Str_ify:NaN":"number"!==typeof b||Number.isFinite(b)?"function"===typeof b?`${String(b).replace(/\s+/g,
" ").substring(0,30)} ***`:b&&b.constructor===RegExp?`${String(b).substring(0,30)} +++`:"string"===typeof b?b:"symbol"===typeof b?p(b):b:"Str_ify:Inf"}function A(a){a=JSON.stringify(a,Ja);return p(a)}function ra(a){let b="";const c=a.toString();c.startsWith("class ")&&c.includes(" constructor(")&&(b=a.name);return b}function Ka(a){let b=!1;null!==a&&"undefined"!==typeof a&&"function"===typeof Object.getPrototypeOf(a)&&"object"===typeof a.prototype&&ra(a)&&(b=!0);return b}function La(a){let b="";a.toString().startsWith("function ")&&
(b=a.name);return b}function sa(a){let b=!1;"string"===typeof a&&Ma.includes(a)&&(b=!0);return b}function Na(a){var b=!1;null!==a&&"undefined"!==typeof a&&"object"===typeof Object.getPrototypeOf(a)&&(a=a.constructor,b=(b=ra(a))?b:La(a));sa(b)&&(b=b.toLowerCase());return b}function ta(a){let b=!1;"string"===typeof a&&Oa.includes(a)&&(b=!0);return b}function ua(a){var b=!1;if(null!==a&&"undefined"!==typeof a){const c=[];function d(e){e=Object.getPrototypeOf(e);null!==e&&(c.push(e.constructor.name),
d(e))}b=Object.getPrototypeOf(a).constructor.name;"object"!==b&&Ma.includes(b)?b=[b]:(d(a),b=c)}else b=null===a?["null"]:["undefined"];return b}function M(a){const b=ua(a);let c=!1;b&&(c=b.shift(),sa(c)&&(c=c.toLowerCase()));c||(c="undefined"===typeof a?"undefined":"null");return c}function Pa(a,b){a=ua(a);let c=!1;a&&(ta(b)&&(b=Qa[b]),c=a.includes(b));return c}function u(a){const b=M(a);return b?b:null===a?"null":a instanceof Date?"date":a instanceof RegExp?"regexp":Array.isArray(a)?"array":typeof a}
function va(a){let b=!1;nb.has(a)?b=!0:wa[a]&&(b=!0);return b}function K(a){wa[a]&&(a=wa[a]);return a}function R(a){return Ra[a]?Ra[a]:a}function Ia(a){const b=[];if(Array.isArray(a))a.forEach(c=>{const d=p(c);"string"===u(c)?"''"===d?b.push('""'):b.push(`"${d}"`):b.push(d)}),a=`[${b.join()}]`;else{for(const [c,d]of Object.entries(a)){a=c.match(/[^a-z\d_]/gi)?c.match(/"/g)?`'${c}'`:`"${c}"`:c.match(/^\d+[a-z_]/i)?`"${c}"`:c;const e=p(d);a="string"===u(d)?"''"===e?`${a}:""`:`${a}:"${e}"`:`${a}:${e}`;
b.push(a)}a=`{${b.join()}}`}return a}function h(a,b){return xa&&b?(a=`${b} - ${a}`,ya&&Q(a,"background: #ee0; color: #F00"),a):a}function S(a){let b="";if(!ta(a)&&"string"===typeof a){const c=a.toLowerCase();Qa[c]&&(b=h(`Type '${a}' is not a typeof(), but looks like '${c}'`,"TE@205"))}return b}function za(a){if(0<Object.keys(a).length){const [b,c]=Object.entries(a)[0];a=S(c);a||(a=p(c),a=h(` Key '${b}', which has a type of '${a}', is missing in the checked object`,"TE@216"))}else a="";return a}function T(a){if(a instanceof
Date)var b="Invalid Date"==a;else a instanceof RegExp?b="/(?:)/"===a.toString():Number.isNaN(a)?b=!0:"number"!==typeof a||Number.isFinite(a)?null==a?b=!0:(b=0===a.length,a="object"===typeof a&&0===Object.keys(a).length,b=b||a):b=!0;return b}function ha(a,b){let c;1===a.length?[c]=a:c=a[b];return c}function D(a){let b=!1,c=!0;null!==a&&void 0!==a&&"undefined"!==typeof a.length&&"string"!==typeof a&&(0===a.length?(Array.isArray(a)||(b=!0),a=[]):1===a.length?a=Array.isArray(a)?a:a[0]:(a=Array.from(a),
c=!1));return[a,b,c]}function y(a,b,c){c=p(c);return[a,b,c]}function Aa(a){function b(){return`${Y} : ${ia}`}function c(k){const l=[];k.forEach(q=>{const n=M(q);n?l.push(`'${n}'`):(q=A(q),l.push(q))});return l}function d(k,l,q,n,v){Y+=1;ja&&Q([Y],"background: #ee0; color: #00F");if(k){ia+=1;Sa(b());l="assert_check()"===v?` ${l}`:` ${l}() ${q} `;if("string"===typeof k)l=k;else{const [x,t,E]=k;k=c(n);1<k.length?(k=`[${k}]`,n=p(n)):(n=p(n),n=n.substring(1,n.length-1));l=l+t+("\n\t\t"+x);q=" EMPTY ASSERTION";
"check_type()"===x||"check_typeVariadic()"===x||"check_typeExtra()"===x||"check_typeEither()"===x?q="   EXPECTED TYPE":"check_mutatedSnapshot()"===x?q="":"assert_check()"===x&&(q="  EXPECTED");l+=`${"\n\t\t"}${"    ACTUAL TYPES"} ${k}`;l+=`${"\n\t\t"}${"    ACTUAL VALUE"} ${n}`;q&&(l+=`${"\n\t\t"}${q} ${E}`);l+=`${"\n\t\t"}${"CALLING FUNCTION"} ${v}`;l+="\n\t\t"}if(Z)throw Error(l);aa&&console.log(l)}}function e(k){k=k.toString().match(ob);const l=`${k[0]})`.replace(/^function /,"");k[2].split(", ").includes("arguments")&&
Q(`Param 'arguments' shadows arguments object : ${k[0]})`,"background: #ee0; color: #00F");return l}function g(k,l,q){const n=e(q),v=q.apply(null,l);d(v,q.name,k,l,n)}function f(k,l,q,n){const v=e(n);l=n.apply(l,q);d(l,n.name,k,q,v)}function m(k){return"object"===typeof k?`{ ${Object.keys(k).map(l=>`${l}()`).reduce((l,q)=>`${l}, ${q}`)} }`:`${k.name}()`}function r(k,l,q){if("function"!==typeof k&&"object"!==typeof k)throw k=p(k),h(`${l}, is a not a function or an object that has a value of '${k}'`,
q);}function w(k,l){const q=m(l);if(void 0===k)throw h(`Function to be checked by ${q} is 'undefined', maybe namespace issue`,"EX@102");if(k===l)throw h(`_ParametersCheck you cannot use ${k.name}() to test`+`${l.name}(), they must be different`,"EX@103");}function C(k,l,q){const n=k.name;return new Proxy(k,{apply(v,x,t){ba(b());F&&l&&("undefined"===typeof x?g(`${n}${"() "}${"PRE-FUNC:"}`,t,l):f(`${n}${"() "}${"PRE-FUNC:"}`,x,t,l));v=v.apply(x,t);F&&q&&("undefined"===typeof x?g(`${n}${"() "}${"POST-FUNC:"}`,
[v],q):f(`${n}${"() "}${"POST-FUNC:"}`,x,[v],q));return v}})}function G(k,l,q,n){const v=new Set;q&&Object.keys(q).forEach(t=>v.add(t));n&&Object.keys(n).forEach(t=>v.add(t));let x=!1;Object.isFrozen(l)&&(x=!0,l=Object.assign({},l));v.forEach(t=>{if(t!==k){let E=!1;q&&(E=q[t]||!1);let N=!1;n&&(N=n[t]||!1);l[t]&&(l[t]=C(l[t],E,N))}});x&&Object.freeze(l);return l}function H(k,l){return"function"===typeof k?k:"undefined"===typeof k?!1:k[l]}function ka(k,l,q){const n=k.name,v=H(l,n),x=H(q,n);return new Proxy(k,
{apply(){},construct(t,E,N){ba(b());F&&v&&g(`${n}${"() "}${"PRE-CLASS:"}`,E,v);t=Reflect.construct(t,E,N);t=G(n,t,l,q);F&&x&&f(`${n}${"() "}${"POST-CLASS:"}`,t,[t],x);return t}})}function pb(k,l,q){const n=k.name,v=H(l,n),x=H(q,n);return new Proxy(k,{apply(t,E,N){ba(b());F&&v&&g(`${n}${"() "}${"PRE-OBJ:"}`,N,v);t=t.apply(E,N);t=G(n,t,l,q);F&&x&&g(`${n}${"() "}${"PRE-OBJ:"}`,[t],q[n]);return t},construct(t,E){ba(b());F&&v&&g(`${n}${"() "}${"POST-OBJ:"}`,E,v);t=new t(...E);t=G(n,t,l,q);F&&x&&f(`${n}${"() "}${"POST-OBJ:"}`,
t,[t],x);return t}})}function qb(k,l,q){var n=arguments.length;if(2!==n&&3!==n)throw h(`linkUp() needs 2 or 3 params, not ${n}`,"EX@106");if(Ta.has(k))throw h(`${k.name}() is already proxied with ${k.name}`,"EX@104");if("function"!==typeof k){var v=`1st param to linkUp(), target_proxy is not a function, but is instead ${p(k)}`;throw h(v,"EX@105");}if(l)for(var x in l)n=l[x],w(k,n),r(n,"linkUp() 2nd param, PRE-CHECK()","EX@101");if(q)for(v in q)x=q[v],w(k,x),r(x,"linkUp() 3rd param, POST-CHECK()",
"EX@115");Ka(k)?v=ka(k,l,q):(v=u(l),x=u(q),v="object"===v||"object"===x?pb(k,l,q):C(k,l,q));Ta.add(v);return v}var U=arguments.length;if(1<U)throw h(`_ParametersCheck() needs 0 or 1 params, not ${U}`,"ME@407");let ba=()=>"",Sa=()=>"",Y=0,ia=0,F=!1;U=(k,l,q)=>k;U=V?qb:U;if(V){a&&"object"!==u(a)&&Q(["_ParametersCheck - arg_check_events is not an Object with onStart(), onCheck(), onError() ",a],"background: #ee0; color: #F00");"undefined"!==typeof window&&Q(["TypeCzech-init",VERS_NUM,Z?"THROW-EXCEPTIONS":
"",aa?"LOG-ERRORS":"",la?"LOG-ERRORS":"",I?"UNDEF-OK":"",ja?"CONSOLE-COUNT":"",a],"background: #cc0; color: #080");if(void 0!==a.onStart)a.onStart("Start");void 0!==a.onCheck&&(ba=a.onCheck);void 0!==a.onError&&(Sa=a.onError);F=!0}return{assert_check_:function(k,l,q,n){z.p_call_traps&&(Array.isArray(k)||(k=p(k),k=`\n  Assert Message: ${k} `,n="undefined"===typeof n?"":p(n),k=["assert_check()",k,n]),l=p(l),d(k,`Assert Location: ${l} : `,"",[q],"assert_check()"))},confirmParameters:U,countFails_:function(){return ia},
countTally_:function(){return Y},disableChecks_:function(){V=F=!1},enableChecks_:function(){V=F=!0;ia=Y=0},p_call_traps:F}}function ca(a,b){b||(b={});"function"===typeof b&&(b={cmp:b});var c="boolean"===typeof b.cycles?b.cycles:!1,d=b.cmp&&function(g){return function(f){return function(m,r){return g({key:m,value:f[m]},{key:r,value:f[r]})}}}(b.cmp),e=[];return function m(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(Number.isNaN(f))return"NaN";if("number"===typeof f&&!Number.isFinite(f))return"Infinity";
if(void 0===f)return"undefined";if("bigint"===typeof f)return JSON.stringify(f+"n");if("symbol"===typeof f)return f.toString();if("function"===typeof f||f&&f.constructor===RegExp)return String(f);if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var r;if(Array.isArray(f)){var w="[";for(r=0;r<f.length;r++)r&&(w+=","),w+=m(f[r])||"null";return w+"]"}if(null===f)return"null";if(-1!==e.indexOf(f)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var C=e.push(f)-1,G=Object.keys(f).sort(d&&d(f));w="";for(r=0;r<G.length;r++){var H=G[r],ka=m(f[H]);ka&&(w&&(w+=","),w+=JSON.stringify(H)+":"+ka)}e.splice(C,1);return"{"+w+"}"}(a)}function Ua(a){const b=a.replace(/\s+/g,"");let c=S(b);c||(c="[]"===b?h("[] is a container, not a type/signature, try 'array' or ['string']","TE@222"):"{}"===b?h("{} is container, not a type/signature. Try 'object' or {a:'string'}","TE@223"):h(`Type '${a}' is unknown classname and not a scalar`,"TE@202"));return c}function Va(a,
b){a=Object.entries(a);const [c,d]=a[0];b=p(b);return h(`Element '${c}' is supposed to be a '${d}', but is missing : ${b}`,"TE@221")}function ma(a,b,c){let d="";const e=u(a),g=u(b);void 0===b?d="":e!==g?e===b||"TYPE-EXTRAS"===c&&"array"===g||(a=A(a),b="string"===u(b)?b:g,d=h(`Param is meant to be '${b}' but is`+` of the wrong type of '${e}':${a}`,"TE@207")):"array"===g?d=Wa(a,b,c):"object"===g&&(d=Xa(a,b,c));return d}function Wa(a,b,c){let d="";if(1===b.length&&1<a.length)d=Ya(a,b[0],c);else{const e=
Array.from(b);b=e.length;a.forEach((g,f)=>{if(""===d){const m=u(g),r=ha(e,f);B(r)?d=ma(g,r,c):(g=K(ha(e,f)),g===m||"TYPE-EXTRAS"===c&&void 0===g||I&&"null"===m||I&&"undefined"===m||(d=Za(g,f,m)));delete e[f]}});d||1!==b&&a.length<b&&(d=Va(e,a))}return d}function Xa(a,b,c){let d="";const e={...b};Object.entries(a).forEach(g=>{if(""===d){const [f,m]=g;B(m)?(d=ma(a[f],b[f],c),delete e[f]):Object.prototype.hasOwnProperty.call(e,f)?(d=$a(e,f,m),delete e[f]):"TYPE-VERIFY"===c&&(g=A(m),"string"===u(m)&&
(g=`'${g}'`),d=h(`Extra key in checked object - (${f}:${g})`,"TE@209"))}});return d+=za(e)}function ab(a,b){b=K(b);var c="";"null"===b||"undefined"===b?c=h(`The type '${b}' is not a valid check_type(), `+"check_typeEither(), or check_typeExtra() 2nd parameter type","TE@203"):va(b)?(c=u(a),c===b?c="":"array"===c?c=h(`The value [], an 'array', is not a '${b}'`,"TE@225"):"object"===c?c=h(`The value {}, an 'object', is not a '${b}'`,"TE@208"):"undefined"===c?c=h(`The value 'undefined', is not a '${b}'`,
"TE@206"):(a=`The value '${p(a)}', which is a '${c}', is not a '${b}'`,c=h(a,"TE@226"))):Na(a)!==b&&("string"===u(b)?c=Ua(b):(a=`The type '${p(b)}' is invalid`,c=h(a,"TE@230")));return c}function W(a,b,c){return B(b)?ma(a,b,c):ab(a,b)}function bb(a,b){if(0===a.length)b=h("Array with no empty type elems, [], should have at least one, like ['EMPTY-ERROR']","EE@316");else{a=Object.entries(a);const [c,d]=a[0];b=A(b);b=h(`ELEMENT '${c}' is promised to be a '${d}', but is missing : ${b}`,"EE@310")}return b}
function cb(a,b,c,d,e,g){e=A(d);return"EMPTY-ERROR"===a||"ER"===a?T(b)?h(`ELEMENT '${c}' is erroneously empty :`,"EE@311"):"":"EMPTY-OK"===a||"OK"===a||"EMPTY-IGNORE"===a||"IG"===a?J(d[c],a,g):"string"===u(a)?h(`ELEMENT '${c}' is incorrect type, '${a}', only`+` [ER,EMPTY-ERROR,EMPTY-OK,OK,EMPTY-IGNORE,IG] allowed : ${e}`,"EE@312"):J(d[c],a,g)}function rb(a,b,c,d){b=A(b);return h(`Param array ${a} does not have the same number of elems as ${b}. `+` Different lengths ${c} !== ${d}`,"ME@404")}function J(a,
b,c){const d=u(b);return void 0===b?"":"array"===d?"array"===u(b[0])?1===b.length?na(a,b[0],c):na(a,b,c):"array"===u(a)?db(a,b,c):na(a,b,c):"object"===d?eb(a,b,c):Ba(a,b)}function Ba(a,b){let c="";b=R(b);const d=u(a);if("EMPTY-ERROR"===b){const e=u(a);if(Ca(e))T(a)&&("object"===d&&(a="{ }"),a=p(a),c=h(`${b} states '${d}' must not `+`be empty for the value ${a}`,"EE@307"));else if("null"===d||"undefined"===d)c=h(`A '${d}' cannot be empty, so the state`+` of '${b}' is illegal for the value '${a}'`,
"EE@308")}else"EMPTY-OK"!==b&&"EMPTY-IGNORE"!==b&&(c=h(`Must 'EMPTY-OK' or 'EMPTY-ERROR' not '${b}'`,"EE@304"));return c}function fb(a,b,c){return B(b)?J(a,b,c):Ba(a,b)}function da(a,b,c){return 1!==b.length||"EMPTY-OK"!==b[0]&&"OK"!==b[0]?fb(a,b,c):h("Pointless as ['EMPTY-OK'] matches all","EE@305")}function gb(a,b){const [c,d]=a;let e=a="",g=!1;d.forEach(f=>{let m=f;"string"===f&&1===c.length&&(m=[f]);f=da(c,m,b);""===f?g=!0:e=f});g||(a=e);return a}function hb(a,b){const [c,d]=a,e=[];let g=!1;d.forEach(f=>
{let m=f;if("string"===f){let r=!1;Array.isArray(c)&&1===c.length&&(r=!0);r&&(m=[f])}f=W(c,m,b);""===f?g=!0:e.push(f)});if(g)a="";else{a=e.shift();const f=e.pop();a=0===e.length?`${a}, ${f}`:1===e.length?`${a}, ${f}, plus 1 more Either error`:`${a}, ${f}, plus ${e.length} more Either errors`}return a}function ib(a){let b=a;a=a[0];Array.isArray(a)&&(b=a);b.forEach(c=>{if("object"===typeof c)Da=c;else if("UNDEF-OK"===c)I="UNDEF-OK";else if("DEBUG-CONSOLE-TRACE"===c)ya="DEBUG-CONSOLE-TRACE";else if("THROW-EXCEPTIONS"===
c)Z="THROW-EXCEPTIONS";else if("NO-ERROR-MESSAGES"===c)la="NO-ERROR-MESSAGES";else if("LOG-ERRORS"===c)aa="LOG-ERRORS";else if("CONSOLE-COUNT"===c)ja="CONSOLE-COUNT";else if("NO-CHECKING"!==c)if("DEBUG-ERROR-TAGS"===c)xa="DEBUG-ERROR-TAGS";else if(""!==c)throw c=`Not THROW-EXCEPTIONS/LOG-ERRORS/UNDEF-OK/DEBUG-CONSOLE-TRACE/NO-CHECKING, unknown : ${A(c)}`,h(c,"EX@107");});V=!!(Z||aa||la);return[Z,aa,la,I,ya,ja,xa]}function L(a,b,c,d){a=h(a,b);c=qa(c);return y(d,a,c)}function ea(a,b,c,d){if(2!==a.length)var e=
L(`${b}() has 2 argu-ments not ${a.length}`,"ME@401","",c);else{const [m,r]=a;var g=u(m);const w=u(r);e=A(g);a="string"===typeof r?r:A(r);var f="";let C="",G="";"undefined"===typeof r?(C=`${b}() called with 1st param of ${e} and 2nd shape param of undefined`,G="TE@218"):null===r&&(C=`${b}() called with 1st param of ${e} and 2nd shape param of null`,G="TE@220");""!==C&&(f=L(C,G,a,c));e=f;""===e&&(f=p(m),"array"===g&&"array"!==w?(b=1<m.length,"array"!==r&&"a"!==r&&b?(b=a,d=p(m),b=K(b),e=L("Comparing [] parameter, with a"+
` value of ${d}, against expected shape of ${b}. They should be the same type.`+` You cannot compare an array with a non-array; both []s, or both ${b}s`,"TE@219",a,c)):d&&(e=L("There are no parameters.","ME@408",a,c))):"array"===w&&"array"!==g?(d=g,g=a,b=p(m),g=K(g),e=L(`Comparing '${d}' parameter,`+` with a value of ${b}, in relation to expected shape of ${g}. They should be the`+` same type. You cannot compare an array with a non-array; both []s, or both '${d}'s. Or same object keys`,"TE@217",a,
c)):"array"===w?d&&(e=L("There are no params to match array signature.","ME@409",a,c)):"object"===w?"object"!==g&&(e=L(`${b}() called with '{}' against '!{}'.`+` Contrasting a ${g} type of value ${f}, with '${a}' an ${w}`+` !!! ${g} <> ${w}`,"TE@201",a,c)):"string"!==w&&(e=L(`${b}() called with 2nd param not a string such as 'number'.`+` Matching '${f}' with '${a}'.`+` Preferably try ${b}(12, 'number')`,"TE@224",a,c)))}return e}function Ea(a,b){var c="";if(2!==a.length)c=h(`${b}() needs 2 parameters, not ${a.length}`,
"ME@406");else{a=a[1];const d=A(a);"array"!==u(a)?c=h(`${b}() called with a 2nd parameter`+` as a non-array shape of ${d}`,"ME@402"):2>a.length&&(c=p(a),c=h(`${b}()  needs at least 2 choices for an Either, not ${a.length} of ${c}`,"UE@701"))}return c}function jb(a,b,c){let d=!1;c||Array.isArray(a)||Array.isArray(b)&&1===b.length&&(d=!0);return d}function Fa(a,b){[a]=D(a);return(a=da(a,b,"EMPTY-EXTRAS"))?y("check_emptyExtra()",a,b):""}function Ga(a,b){[a]=D(a);return(a=W(a,b,"TYPE-EXTRAS"))?y("check_typeExtra()",
a,b):""}function X(a){if(160>a.length)var b=a;else b=a.substring(0,100),a=a.substring(a.length-50),b=`${b} ${"<<<~~~>>>"} ${a}`;return b}function kb(a,b){var c="";if(a!==b){c=0;for(var d=!1;a[c]===b[c];){if(c===a.length||c===b.length){d=!0;break}c+=1}const [g,f]=[c,d];var e=a.length;d=b.length;f?e>d?(c=0===d?"''":b,e=a.substring(g),b="''"):(c=0===e?"''":a,e="''",b=a.substring(g)):(c=0===g?"''":a.substring(0,g),e=0===e?"''":a.substring(g),b=0===d?"''":b.substring(g));a=e;c=X(c);a=X(a);b=X(b);c=p(`${"\n\t\t"}START-SAME ~ ${c}`);
a=p(`${"\n\t\t"}  PRE-DIFF ~ ${a}`);b=p(`${"\n\t\t"} POST-DIFF ~ ${b}`);c=`${c}${a}${b}`}return c}let z,Da=!1,V=!1;const O={},Ta=new WeakSet;let Z=!1,la=!1,aa=!1,I=!1,ja=!1,xa=!1,ya=!1;const ob=/([^(]*\()([^)]*)/,Ra={OK:"EMPTY-OK",ER:"EMPTY-ERROR",IG:"EMPTY-IGNORE"},Ma="Array BigInt Boolean Date Function Number Object RegExp String Symbol".split(" "),Qa={array:"Array",bigint:"BigInt",boolean:"Boolean",date:"Date",function:"Function",number:"Number",object:"Object",regexp:"RegExp",string:"String",
symbol:"Symbol"},Oa="array bigint boolean date function number object regexp string symbol".split(" "),nb=new Set(Oa),wa={a:"array",i:"bigint",b:"boolean",d:"date",f:"function",n:"number",o:"object",r:"regexp",s:"string",y:"symbol"},oa={bBlink:a=>{document.body.style.background=a;setTimeout(()=>{document.body.style.background="white"},100)},onStart:()=>oa.bBlink("green"),onCheck:()=>oa.bBlink("blue"),onError:()=>oa.bBlink("red")},Ca=a=>"array"===a?!0:"object"===a?!0:"string"===a?!0:"regexp"===a?!0:
"date"===a?!0:"number"===a,pa={decycle:function(a,b){var c=new WeakMap;return function f(e,g){void 0!==b&&(e=b(e));if(!("object"!==typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)){var m=c.get(e);if(void 0!==m)return{$ref:m};c.set(e,g);if(Array.isArray(e)){var r=[];e.forEach(function(w,C){r[C]=f(w,g+"["+C+"]")})}else r={},Object.keys(e).forEach(function(w){r[w]=f(e[w],g+"["+JSON.stringify(w)+"]")});return r}return e}(a,"$")}},
Ya=(a,b,c)=>{let d="";const e=K(b);Array.isArray(a)||(a=[a]);a.forEach((g,f)=>{if(""===d){const m=u(g);if(B(e))d=W(g,e,c);else if(!(e===m||I&&"null"===m||I&&"undefined"===m)){let r=S(e);r||(g=p(g),r=h(`ELEMENT '${f}' is asserted to be a '${e}',`+` but is fallaciously a '${m}' : ${g}`,"TE@215"));d=r}}});return d},Za=(a,b,c)=>{var d="";"null"===a?d=h(` ELEMENT '${b}' type is 'null'`,"TE@204"):"undefined"===a?d=h(` ELEMENT '${b}' type is 'undefined'`,"TE@229"):"string"!==typeof a&&(d=p(a),d=h(` ELEMENT '${b}' type is not a valid string, like 'number', but instead ${d}`,
"TE@232"));d||(d=S(a))||(d=h(` ELEMENT '${b}' is assumed to be a '${a}',`+` but is mistakenly a '${c}'`,"TE@214"));return d},$a=(a,b,c)=>{let d="";a=K(a[b]);if(va(a)){const e=u(c);a===e||I&&"null"===e||I&&"undefined"===e||("undefined"===typeof c?d=h(`Key '${b}' was given to be a '${a}' but is 'undefined'`,"TE@211"):"null"===e?d=h(`Key '${b}' was determined to be a '${a}' but is 'null'`,"TE@212"):(c=p(c),d=h(`Property '${b}' is indicated to be a '${a}',`+` but is inaccurately a '${e}' : ${c}`,"TE@213")))}else d=
S(a),d||(b=`Type '${A(a)}' is not a real type`,d=h(b,"TE@210"));return d},na=(a,b,c)=>{let d="";const e=u(a);"array"!==e?(a=p(a),d=h(`Variable ${a} must be an array but is instead a '${e}', : ${a}`,"EE@314")):a.forEach((g,f)=>{""===d&&(d=1===b.length?J(g,b,c):J(g,b[f],c))});return d},lb=(a,b,c)=>{let d="";const e=R(b);Array.isArray(a)||(a=[a]);a.forEach((g,f)=>{if(""===d){const m=T(g);B(e)?d=J(g,e,c):!m||"EMPTY-ERROR"!==e||I&&"null"===m||I&&"undefined"===m||(g=p(g),d=h(`ELEMENT '${f}' is asserted to be a '${e}',`+
` but is really 'EMPTY' : ${g}`,"EE@306"))}});return d},db=(a,b,c)=>{let d="";Array.isArray(a)||(a=[a]);if(1===b.length&&1<a.length)d=lb(a,b[0],c);else{var e=Array.isArray(a)?a.length:0;const g=b.length,f=A(a);if(0===e)d=h(`Param array ${f} is empty`,"ME@403");else if("EMPTY-EXTRAS"!==c&&1<g&&g!==e)d=rb(f,b,e,g);else{const m=Array.from(b),r=m.length;e=u(a);"array"!==e?d=h(`Variable '${a}' must be an array but is a '${e}', : ${f}`,"EE@313"):a.forEach((w,C)=>{if(""===d){const G=u(w),H=ha(m,C);B(H)?
d=J(a[C],H,c):1!==r&&delete m[C];(w=cb(H,w,C,a,G,c))&&(d=w)}});1!==r&&"EMPTY-EXTRAS"!==c&&a.length!==r&&(d=bb(b,a))}}return d},mb=(a,b,c)=>{let d="";a=R(a);if("EMPTY-ERROR"===a){const e=u(b),g=Ca(e),f=A(b);g?T(b)&&(d=h(` key '${c}' is a '${e}' which is reputed `+`to be '${a}' but has a value of ${f}`,"EE@301")):d=h(`Type cannot be empty '${c}' ${a} is a ${f} :: ${e}`,"EE@302")}else"EMPTY-OK"!==a&&"EMPTY-IGNORE"!==a&&(b=`Bad empty type key, '${p(a)}', must be either 'EMPTY-OK','EMPTY-ER','EMPTY-IG','OK','ER','IG'`,
d=h(b,"EE@303"));return d},eb=(a,b,c)=>{let d="";const e={...b};B(a)&&Object.entries(a).forEach(g=>{if(""===d){const [m,r]=g;g=A(r);var f=R(e[m]);B(r)?(f=R(b[m]),d=T(r)&&"EMPTY-ERROR"===f?h(`Key '${m}' was understood to be '${f}' but was rather '${g}'`,"EE@309"):d+J(a[m],f,c),delete e[m]):Object.prototype.hasOwnProperty.call(e,m)?(d=mb(f,r,m),delete e[m]):"EMPTY-VERIFY"===c&&("string"===u(r)&&(g=`'${g}'`),d=h(`Extra key in checked object - (${m}:${g})`,"EE@315"))}});return d+=za(e)};ib(fa);z=Da?Aa(Da):
Aa(!1);return{_ParametersCheck:Aa,_anObjectsType:Na,_arrayOfOneShape:lb,_arrayOfOneType:Ya,_aTypeOf:u,_canBeEmpty:Ca,_className:ra,_collectionToStr:Ia,_coloredConsole:Q,_consoleError:h,_doEitherEmpty:gb,_doEitherShape:hb,_doubleToSingleQuotes:qa,_eitherChecks:Ea,_emptyArrayInArray:na,_emptyArrayTypes:db,_emptyCheck:da,_emptyCollectionTypes:eb,_emptyContainer:J,_emptyError:cb,_emptyErrorMess:bb,_emptyKeysChecked:mb,_emptyScalar:Ba,_emptyVariable:fb,_errorClassName:Ua,_functionName:La,_getParameters:D,
_isAClass:Ka,_isBuiltInClass:sa,_isCollection:B,_isEmpty:T,_isScalar:function(a){return!B(a)},_isaTypeOf:ta,_isPlainJsType:va,_jsonStr:A,_looksLikeType:S,_missingKey:za,_mutateStacks:function(){return ca(O)},_refDiff:kb,_shapeArrayTypes:Wa,_shapeCollectionTypes:Xa,_shapeContainer:ma,_shapeErrorMess:Va,_shapePropertyType:$a,_shapeScalar:ab,_shapeVariable:W,_shortToLongEmpty:R,_shortToLongType:K,_shrinkDiffs:X,_specParameters:ib,_stringifyReplacer:Ja,_toStr:p,_twoArrays:ea,_typeFromArray:ha,_wrongType:Za,
_cycle_loops:pa,_fast_json_stable_stringify:ca,TYPE_CZECH_EVENTS:oa,assert_check:function(a,b,c,d){return z.p_call_traps&&a?z.assert_check_(a,b,c,d):""},check_type:function(a,b){if(z.p_call_traps){const [c,d,e]=D(a),g=p(c),f=p(b);let m=ea([c,b],"check_type","check_type()",d);""===m&&(jb(a,b,e)&&(m=["check_type()",`VE@603 - Use check_typeVariadic(${g}, ${f}) instead of check_type()`,b]),""===m&&(m=(a=W(c,b,"TYPE-VERIFY"))?y("check_type()",a,b):""));return m}},check_typeEither:function(a,b){if(z.p_call_traps){[a]=
D(a);let c=Ea([a,b],"check_typeEither");""===c&&(c=(a=hb([a,b],"TYPE-VERIFY"))?y("check_typeEither()",a,b):"");return c}},check_typeExtra:function(a,b){if(z.p_call_traps){const d=B(a),e=B(b);var c=p(b);const [g]=D(a),f=p(g);Array.isArray(b)&&1===b.length?(a=p(b[0]),c=`check_typeExtra(${f}, ${c}) ${`try check_type([${a}, ${a}], ${c})`} as ${c} is illegal.`,c=h(c,"TE@234"),b=y("check_typeExtra()",c,b)):d&&e?"string"===M(b)?b=Ga(a[0],b):"object"===M(b)?b=Ga(a,b):2>g.length?(c=`check_typeExtra(${f}, ${c}) needs each array to have at least 2 types to work`,
c=h(c,"TE@228"),b=y("check_typeExtra()",c,b)):b=Ga(a,b):(c=`check_typeExtra(${p(a)}, ${c}) needs 2 collections to work`,c=h(c,"TE@227"),b=y("check_typeExtra()",c,b));return b}},check_typeVariadic:function(a,b){if(z.p_call_traps){let [c,d,e]=D(a);a=p(c);const g=p(b);Array.isArray(b)?1!==b.length?(a=`Use check_type(${a}, ${g}) instead of check_typeVariadic()`,a=h(a,"VE@602"),a=["check_typeVariadic()",a,b]):(e&&(c=[c]),a=ea([c,b],"check_type","check_typeVariadic()",d),""===a&&(a=(a=W(c,b,"TYPE-VERIFY"))?
y("check_typeVariadic()",a,b):"")):(a=`Use check_typeVariadic(${a}, ['${g}']') instead of check_typeVariadic(${a}, '${g}')`,a=h(a,"VE@601"),a=["check_typeVariadic()",a,b]);return a}},check_empty:function(a,b){if(z.p_call_traps){const [c,d,e]=D(a),g=p(c),f=p(b);let m=ea([c,b],"check_empty","check_empty()",d);if(jb(a,b,e))return["check_empty()",`VE@604 - Use check_emptyVariadic([${g}], ['${f}']') instead of check_empty()`,b];""===m&&(m=(a=da(c,b,"EMPTY-VERIFY"))?y("check_empty()",a,b):"");return m}},
check_emptyEither:function(a,b){if(z.p_call_traps){[a]=D(a);let c=Ea([a,b],"check_emptyEither");""===c&&(c=(a=gb([a,b],"EMPTY-VERIFY"))?y("check_emptyEither()",a,b):"");return c}},check_emptyExtra:function(a,b){if(z.p_call_traps){const c=B(a),d=B(b),e=p(b),[g]=D(a),f=p(g);Array.isArray(b)&&1===b.length?(a=`check_emptyExtra(${f}, ${e}) ${`try check_empty(${f}, ${e})`} as ${e} is prohibited.`,a=h(a,"TE@235"),b=y("check_typeExtra()",a,b)):c&&d?"string"===M(b)?b=Fa(a[0],b):"object"===M(b)?b=Fa(a,b):"array"!==
u(g)||"array"!==u(b)?(a=`check_emptyExtra(${f}, ${e}) needs 2 arrays to work`,a=h(a,"EE@317"),b=y("check_emptyExtra()",a,b)):2>g.length||2>b.length?(a=`check_emptyExtra(${f}, ${e}) needs each array to have at least 2 types to work`,a=h(a,"EE@318"),b=y("check_emptyExtra()",a,b)):b=Fa(a,b):(a=`check_emptyExtra(${p(a)}, ${e}) needs 2 collections to work`,a=h(a,"TE@31"),b=y("check_emptyExtra()",a,b));return b}},check_emptyVariadic:function(a,b){if(z.p_call_traps){let [c,d,e]=D(a);a=p(c);const g=p(b);
Array.isArray(b)?1!==b.length?a=["check_emptyVariadic()",`VE@606 - Use check_empty(${a}, ${g}) instead of check_emptyVariadic()`,b]:(e&&(c=[c]),a=ea([c,b],"check_empty","check_emptyVariadic()",d),""===a&&(a=(a=da(c,b,"EMPTY-VERIFY"))?y("check_emptyVariadic()",a,b):"")):a=["check_emptyVariadic()",`VE@605 - Use check_emptyVariadic(${a}, ['${g}']') instead of check_emptyVariadic(${a}, '${g}')`,b];return a}},check_interface:function(a,b){if(z.p_call_traps){[a]=D(a);var c=u(b),d="";if(Pa(a,"Object"))if("object"!==
c){var e=h("Signature is not an object.","IE@504");d=y("check_interface()",e,b)}else if(0===Object.keys(b).length)e=h("Signature is empty object.","IE@503"),d=y("check_interface()",e,b);else{for(e in b)if(!d){var g=K(b[e]);const f=a[e];c=u(f);"undefined"===typeof f?d=h(`Interface missing key '${e}' in checked object`,"IE@501"):g!==c&&(d=p(f),g=p(g),d=h(`Actual type of '${e}' is '${c}', with a value `+`of '${d}', not the expected '${g}' type`,"IE@502"))}d&&(d=y("check_interface()",d,b))}else e=h("Function argument is not an object.",
"IE@505"),d=y("check_interface()",e,b);return d}},check_buildSnapshot:function(a,b,c){if(z.p_call_traps){var d=arguments.length;if(3!==d)throw h(`check_buildSnapshot() needs 3 params, not ${d}`,"EX@108");if(B(c)){if("string"!==typeof a)throw d=`1st check_buildSnapshot() param must be un-empty string, not ${p(a)}`,h(d,"EX@110");if("string"!==typeof b)throw d=`2nd check_buildSnapshot() param must be un-empty string, not ${p(b)}`,h(d,"EX@111");}else throw d=`check_buildSnapshot()'s 3rd param not array/object but a '${u(c)}'`,
h(d,"EX@109");d=`${a}-${b}`;var e=pa.decycle(c);e=ca(e);e={func_name:a,var_name:b,collection_ref:c,pre_collect_str:e};O[d]?O[d].push(e):O[d]=[e];return""}},check_mutatedSnapshot:function(a,b){if(z.p_call_traps){var c=p(a),d=p(b),e=`${c}-${d}`,g="",f=O[e];const m=arguments.length;if(2!==m)throw h(`check_mutatedSnapshot() needs 2 param, not ${m}`,"EX@112");if(f){e=O[e].pop();if("undefined"===typeof e)throw h(`check_mutatedSnapshot() has no matching entry for check_buildSnapshot('${c}', '${d}', a_var)`,
"EX@114");const {collection_ref:r,pre_collect_str:w}=e;c=pa.decycle(r);c=ca(c);w!==c&&(e=p(w),d=p(c),g=`Ref var '${b}' in func '${a}()' changed`,e=X(e),f=X(d),d=`${"\n\t\t"}from ${e}`,e=`${"\n\t\t"}  to ${f} ${"\n\t\t"}`,c=kb(w,c),g=h(`${g}${d}${e}${c}`,"ME@405"),g=y("check_mutatedSnapshot()",g,""))}else throw h(`No record of check_mutatedSnapshot('${c}', '${d}', a_var)`,"EX@113");c=pa.decycle(O);ca(c);return g}},enableChecks:function(){return z.enableChecks_()},disableChecks:function(){return z.disableChecks_()},
countFails:function(){return z.countFails_()},countTally:function(){return z.countTally_()},isActive:function(){return V},linkUp:function(a,b,c){return"undefined"===typeof c?z.confirmParameters(a,b,!1):z.confirmParameters(a,b,c)},typeFinal:M,typeIsA:Pa,typeProtos:ua}}P.type_czech=0<arguments.length?Ha(...arguments):"undefined"!==typeof P.TYPE_CZECH_COMMANDS&&0<P.TYPE_CZECH_COMMANDS.length?Ha(P.TYPE_CZECH_COMMANDS):{linkUp:fa=>fa,isActive:fa=>!1};return P.type_czech}})(the_exports);
